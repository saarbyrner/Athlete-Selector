(function(R,_){typeof exports=="object"&&typeof module<"u"?_(exports,require("react"),require("@mui/material"),require("@mui/icons-material")):typeof define=="function"&&define.amd?define(["exports","react","@mui/material","@mui/icons-material"],_):(R=typeof globalThis<"u"?globalThis:R||self,_(R.AthleteSelector={},R.React,R.MaterialUI,R.MaterialUIIcons))})(this,function(R,_,n,L){"use strict";var ce={exports:{}},re={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oe;function Ze(){if(Oe)return re;Oe=1;var s=_,o=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,h=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function d(C,m,P){var p,x={},u=null,v=null;P!==void 0&&(u=""+P),m.key!==void 0&&(u=""+m.key),m.ref!==void 0&&(v=m.ref);for(p in m)i.call(m,p)&&!g.hasOwnProperty(p)&&(x[p]=m[p]);if(C&&C.defaultProps)for(p in m=C.defaultProps,m)x[p]===void 0&&(x[p]=m[p]);return{$$typeof:o,type:C,key:u,ref:v,props:x,_owner:h.current}}return re.Fragment=l,re.jsx=d,re.jsxs=d,re}var ne={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Re;function $e(){return Re||(Re=1,process.env.NODE_ENV!=="production"&&function(){var s=_,o=Symbol.for("react.element"),l=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),C=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),T=Symbol.iterator,c="@@iterator";function A(e){if(e===null||typeof e!="object")return null;var t=T&&e[T]||e[c];return typeof t=="function"?t:null}var B=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function y(e){{for(var t=arguments.length,a=new Array(t>1?t-1:0),f=1;f<t;f++)a[f-1]=arguments[f];D("error",e,a)}}function D(e,t,a){{var f=B.ReactDebugCurrentFrame,w=f.getStackAddendum();w!==""&&(t+="%s",a=a.concat([w]));var O=a.map(function(j){return String(j)});O.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,O)}}var S=!1,k=!1,J=!1,q=!1,K=!1,Q;Q=Symbol.for("react.module.reference");function X(e){return!!(typeof e=="string"||typeof e=="function"||e===i||e===g||K||e===h||e===P||e===p||q||e===v||S||k||J||typeof e=="object"&&e!==null&&(e.$$typeof===u||e.$$typeof===x||e.$$typeof===d||e.$$typeof===C||e.$$typeof===m||e.$$typeof===Q||e.getModuleId!==void 0))}function F(e,t,a){var f=e.displayName;if(f)return f;var w=t.displayName||t.name||"";return w!==""?a+"("+w+")":a}function z(e){return e.displayName||"Context"}function M(e){if(e==null)return null;if(typeof e.tag=="number"&&y("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case i:return"Fragment";case l:return"Portal";case g:return"Profiler";case h:return"StrictMode";case P:return"Suspense";case p:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C:var t=e;return z(t)+".Consumer";case d:var a=e;return z(a._context)+".Provider";case m:return F(e,e.render,"ForwardRef");case x:var f=e.displayName||null;return f!==null?f:M(e.type)||"Memo";case u:{var w=e,O=w._payload,j=w._init;try{return M(j(O))}catch{return null}}}return null}var E=Object.assign,G=0,U,V,Pe,Ae,Be,De,Ie;function Fe(){}Fe.__reactDisabledLog=!0;function ar(){{if(G===0){U=console.log,V=console.info,Pe=console.warn,Ae=console.error,Be=console.group,De=console.groupCollapsed,Ie=console.groupEnd;var e={configurable:!0,enumerable:!0,value:Fe,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}G++}}function lr(){{if(G--,G===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:E({},e,{value:U}),info:E({},e,{value:V}),warn:E({},e,{value:Pe}),error:E({},e,{value:Ae}),group:E({},e,{value:Be}),groupCollapsed:E({},e,{value:De}),groupEnd:E({},e,{value:Ie})})}G<0&&y("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var be=B.ReactCurrentDispatcher,Se;function se(e,t,a){{if(Se===void 0)try{throw Error()}catch(w){var f=w.stack.trim().match(/\n( *(at )?)/);Se=f&&f[1]||""}return`
`+Se+e}}var je=!1,ie;{var cr=typeof WeakMap=="function"?WeakMap:Map;ie=new cr}function We(e,t){if(!e||je)return"";{var a=ie.get(e);if(a!==void 0)return a}var f;je=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var O;O=be.current,be.current=null,ar();try{if(t){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(N){f=N}Reflect.construct(e,[],j)}else{try{j.call()}catch(N){f=N}e.call(j.prototype)}}else{try{throw Error()}catch(N){f=N}e()}}catch(N){if(N&&f&&typeof N.stack=="string"){for(var b=N.stack.split(`
`),Y=f.stack.split(`
`),I=b.length-1,W=Y.length-1;I>=1&&W>=0&&b[I]!==Y[W];)W--;for(;I>=1&&W>=0;I--,W--)if(b[I]!==Y[W]){if(I!==1||W!==1)do if(I--,W--,W<0||b[I]!==Y[W]){var H=`
`+b[I].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),typeof e=="function"&&ie.set(e,H),H}while(I>=1&&W>=0);break}}}finally{je=!1,be.current=O,lr(),Error.prepareStackTrace=w}var ee=e?e.displayName||e.name:"",Z=ee?se(ee):"";return typeof e=="function"&&ie.set(e,Z),Z}function ur(e,t,a){return We(e,!1)}function dr(e){var t=e.prototype;return!!(t&&t.isReactComponent)}function ae(e,t,a){if(e==null)return"";if(typeof e=="function")return We(e,dr(e));if(typeof e=="string")return se(e);switch(e){case P:return se("Suspense");case p:return se("SuspenseList")}if(typeof e=="object")switch(e.$$typeof){case m:return ur(e.render);case x:return ae(e.type,t,a);case u:{var f=e,w=f._payload,O=f._init;try{return ae(O(w),t,a)}catch{}}}return""}var te=Object.prototype.hasOwnProperty,Me={},Ge=B.ReactDebugCurrentFrame;function le(e){if(e){var t=e._owner,a=ae(e.type,e._source,t?t.type:null);Ge.setExtraStackFrame(a)}else Ge.setExtraStackFrame(null)}function fr(e,t,a,f,w){{var O=Function.call.bind(te);for(var j in e)if(O(e,j)){var b=void 0;try{if(typeof e[j]!="function"){var Y=Error((f||"React class")+": "+a+" type `"+j+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[j]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Y.name="Invariant Violation",Y}b=e[j](t,j,f,a,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(I){b=I}b&&!(b instanceof Error)&&(le(w),y("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",f||"React class",a,j,typeof b),le(null)),b instanceof Error&&!(b.message in Me)&&(Me[b.message]=!0,le(w),y("Failed %s type: %s",a,b.message),le(null))}}}var hr=Array.isArray;function we(e){return hr(e)}function pr(e){{var t=typeof Symbol=="function"&&Symbol.toStringTag,a=t&&e[Symbol.toStringTag]||e.constructor.name||"Object";return a}}function xr(e){try{return ze(e),!1}catch{return!0}}function ze(e){return""+e}function Le(e){if(xr(e))return y("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",pr(e)),ze(e)}var Ue=B.ReactCurrentOwner,gr={key:!0,ref:!0,__self:!0,__source:!0},Ye,Ne;function vr(e){if(te.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return e.ref!==void 0}function mr(e){if(te.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function yr(e,t){typeof e.ref=="string"&&Ue.current}function br(e,t){{var a=function(){Ye||(Ye=!0,y("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};a.isReactWarning=!0,Object.defineProperty(e,"key",{get:a,configurable:!0})}}function Sr(e,t){{var a=function(){Ne||(Ne=!0,y("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};a.isReactWarning=!0,Object.defineProperty(e,"ref",{get:a,configurable:!0})}}var jr=function(e,t,a,f,w,O,j){var b={$$typeof:o,type:e,key:t,ref:a,props:j,_owner:O};return b._store={},Object.defineProperty(b._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(b,"_self",{configurable:!1,enumerable:!1,writable:!1,value:f}),Object.defineProperty(b,"_source",{configurable:!1,enumerable:!1,writable:!1,value:w}),Object.freeze&&(Object.freeze(b.props),Object.freeze(b)),b};function wr(e,t,a,f,w){{var O,j={},b=null,Y=null;a!==void 0&&(Le(a),b=""+a),mr(t)&&(Le(t.key),b=""+t.key),vr(t)&&(Y=t.ref,yr(t,w));for(O in t)te.call(t,O)&&!gr.hasOwnProperty(O)&&(j[O]=t[O]);if(e&&e.defaultProps){var I=e.defaultProps;for(O in I)j[O]===void 0&&(j[O]=I[O])}if(b||Y){var W=typeof e=="function"?e.displayName||e.name||"Unknown":e;b&&br(j,W),Y&&Sr(j,W)}return jr(e,b,Y,w,f,Ue.current,j)}}var Ce=B.ReactCurrentOwner,He=B.ReactDebugCurrentFrame;function $(e){if(e){var t=e._owner,a=ae(e.type,e._source,t?t.type:null);He.setExtraStackFrame(a)}else He.setExtraStackFrame(null)}var Te;Te=!1;function ke(e){return typeof e=="object"&&e!==null&&e.$$typeof===o}function Ve(){{if(Ce.current){var e=M(Ce.current.type);if(e)return`

Check the render method of \``+e+"`."}return""}}function Cr(e){return""}var Je={};function Tr(e){{var t=Ve();if(!t){var a=typeof e=="string"?e:e.displayName||e.name;a&&(t=`

Check the top-level render call using <`+a+">.")}return t}}function Ke(e,t){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var a=Tr(t);if(Je[a])return;Je[a]=!0;var f="";e&&e._owner&&e._owner!==Ce.current&&(f=" It was passed a child from "+M(e._owner.type)+"."),$(e),y('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',a,f),$(null)}}function Qe(e,t){{if(typeof e!="object")return;if(we(e))for(var a=0;a<e.length;a++){var f=e[a];ke(f)&&Ke(f,t)}else if(ke(e))e._store&&(e._store.validated=!0);else if(e){var w=A(e);if(typeof w=="function"&&w!==e.entries)for(var O=w.call(e),j;!(j=O.next()).done;)ke(j.value)&&Ke(j.value,t)}}}function kr(e){{var t=e.type;if(t==null||typeof t=="string")return;var a;if(typeof t=="function")a=t.propTypes;else if(typeof t=="object"&&(t.$$typeof===m||t.$$typeof===x))a=t.propTypes;else return;if(a){var f=M(t);fr(a,e.props,"prop",f,e)}else if(t.PropTypes!==void 0&&!Te){Te=!0;var w=M(t);y("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",w||"Unknown")}typeof t.getDefaultProps=="function"&&!t.getDefaultProps.isReactClassApproved&&y("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Er(e){{for(var t=Object.keys(e.props),a=0;a<t.length;a++){var f=t[a];if(f!=="children"&&f!=="key"){$(e),y("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",f),$(null);break}}e.ref!==null&&($(e),y("Invalid attribute `ref` supplied to `React.Fragment`."),$(null))}}var qe={};function Xe(e,t,a,f,w,O){{var j=X(e);if(!j){var b="";(e===void 0||typeof e=="object"&&e!==null&&Object.keys(e).length===0)&&(b+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Y=Cr();Y?b+=Y:b+=Ve();var I;e===null?I="null":we(e)?I="array":e!==void 0&&e.$$typeof===o?(I="<"+(M(e.type)||"Unknown")+" />",b=" Did you accidentally export a JSX literal instead of a component?"):I=typeof e,y("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",I,b)}var W=wr(e,t,a,w,O);if(W==null)return W;if(j){var H=t.children;if(H!==void 0)if(f)if(we(H)){for(var ee=0;ee<H.length;ee++)Qe(H[ee],e);Object.freeze&&Object.freeze(H)}else y("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Qe(H,e)}if(te.call(t,"key")){var Z=M(e),N=Object.keys(t).filter(function(Br){return Br!=="key"}),Ee=N.length>0?"{key: someKey, "+N.join(": ..., ")+": ...}":"{key: someKey}";if(!qe[Z+Ee]){var Ar=N.length>0?"{"+N.join(": ..., ")+": ...}":"{}";y(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Ee,Z,Ar,Z),qe[Z+Ee]=!0}}return e===i?Er(W):kr(W),W}}function Or(e,t,a){return Xe(e,t,a,!0)}function Rr(e,t,a){return Xe(e,t,a,!1)}var _r=Rr,Pr=Or;ne.Fragment=i,ne.jsx=_r,ne.jsxs=Pr}()),ne}process.env.NODE_ENV==="production"?ce.exports=Ze():ce.exports=$e();var r=ce.exports;const ue=[{id:"selected",label:"Selected",count:1,isSpecial:!0},{id:"squads",label:"Squads"},{id:"free-agents",label:"Free Agents"},{id:"historical",label:"Historical Athletes"}],de=({selectedSquad:s,onSquadChange:o,selectedCount:l=0,compact:i=!1})=>{const h=n.useTheme(),g=n.useMediaQuery(h.breakpoints.down("sm")),[d,C]=_.useState(!1),m=()=>{C(!d)},P=u=>{o(u),g||C(!1)},p=()=>{const u=ue.find(v=>v.id===s);return(u==null?void 0:u.label)||"Squads"},x=u=>u.id==="selected"&&l>0?`${u.label} (${l})`:u.label;return r.jsxs(n.Box,{sx:{position:"relative",width:"100%"},children:[r.jsx(n.Button,{onClick:m,variant:"text",endIcon:d?r.jsx(L.ArrowDropUp,{}):r.jsx(L.ArrowDropDown,{}),sx:{width:"100%",justifyContent:"space-between",textTransform:"none",fontFamily:'"Open Sans", sans-serif',fontSize:i?"0.875rem":"1rem",fontWeight:400,color:"text.primary",px:i?1.5:2,py:i?1:1.5,minHeight:i?36:44,border:"1px solid",borderColor:"divider",borderRadius:1,backgroundColor:"background.paper","&:hover":{backgroundColor:"action.hover",borderColor:"primary.main"}},children:p()}),r.jsx(n.Collapse,{in:d,timeout:"auto",unmountOnExit:!0,children:r.jsx(n.Paper,{elevation:8,sx:{position:"absolute",top:"100%",left:0,minWidth:"100%",width:"max-content",zIndex:h.zIndex.modal,maxHeight:g?"70vh":"400px",overflowY:"auto",mt:.5,border:"1px solid",borderColor:"divider",borderRadius:1},children:r.jsx(n.MenuList,{sx:{py:1,minWidth:"200px","& .MuiMenuItem-root":{fontFamily:'"Open Sans", sans-serif',fontSize:"1rem",fontWeight:400,px:2,py:1.5,minHeight:"auto",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},children:ue.map((u,v)=>r.jsxs(_.Fragment,{children:[r.jsxs(n.MenuItem,{selected:s===u.id,onClick:()=>P(u.id),sx:{backgroundColor:s===u.id?"action.selected":"transparent","&:hover":{backgroundColor:s===u.id?"action.selected":"action.hover"},"&.Mui-selected":{backgroundColor:"action.selected","&:hover":{backgroundColor:"action.selected"}},display:"flex",justifyContent:"space-between",alignItems:"center",...u.isSpecial&&{fontWeight:600,color:"primary.main","&.Mui-selected":{backgroundColor:"primary.light",color:"primary.contrastText","&:hover":{backgroundColor:"primary.light"}}}},children:[r.jsx(n.Typography,{variant:"body1",sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"1rem",fontWeight:u.isSpecial?600:400,color:u.isSpecial?"primary.main":"text.primary",flexGrow:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x(u)}),u.hasSubmenu&&r.jsx(L.ChevronRight,{fontSize:"small",sx:{color:"text.secondary",ml:1}})]}),u.isSpecial&&v<ue.length-1&&r.jsx(n.Divider,{sx:{my:.5}})]},u.id))})})})]})},er=s=>{const o=s.reduce((l,i)=>(l[i.ageGroup]||(l[i.ageGroup]={id:i.ageGroup,name:i.ageGroup,athletes:[],isExpanded:!1}),l[i.ageGroup].athletes.push(i),l),{});return Object.values(o).sort((l,i)=>{const h=parseInt(l.name.replace("U",""));return parseInt(i.name.replace("U",""))-h})},rr=s=>{const o=s.reduce((l,i)=>(l[i.position]||(l[i.position]={id:i.position,name:i.position,athletes:[]}),l[i.position].athletes.push(i),l),{});return Object.values(o).sort((l,i)=>l.name.localeCompare(i.name))},fe=(s,o)=>s.filter(l=>{if(o.selectedSquad)switch(o.selectedSquad){case"current":if(!["U21","U19","U17"].includes(l.ageGroup))return!1;break;case"free-agents":return!1;case"historical":if(["U21","U19","U17"].includes(l.ageGroup))return!1;break}if(o.searchTerm){const i=o.searchTerm.toLowerCase();if(!l.name.toLowerCase().includes(i)&&!l.position.toLowerCase().includes(i)&&!l.ageGroup.toLowerCase().includes(i))return!1}return!(o.selectedAgeGroups.length>0&&!o.selectedAgeGroups.includes(l.ageGroup)||o.selectedPositions.length>0&&!o.selectedPositions.includes(l.position))}),he=(s,o,l)=>[...s].sort((i,h)=>{let g=0;switch(o){case"name":g=i.name.localeCompare(h.name);break;case"position":g=i.position.localeCompare(h.position);break;case"ageGroup":const d=parseInt(i.ageGroup.replace("U",""));g=parseInt(h.ageGroup.replace("U",""))-d;break;default:g=0}return l==="desc"?-g:g}),pe=s=>{switch(s){case"available":return"success";case"unavailable":return"default";case"injured":return"error";default:return"default"}},xe=s=>{switch(s){case"available":return"Available";case"unavailable":return"Unavailable";case"injured":return"Injured";default:return"Unknown"}},ge=({athlete:s,isSelected:o,onToggle:l,showGroupIcon:i=!1})=>{const h=n.useTheme(),g=()=>{l(s.id)},d=s.name.includes("Aggregate")||i;return r.jsxs(n.Box,{sx:{display:"flex",alignItems:"center",py:1,px:2,minHeight:48,backgroundColor:o?"action.selected":"transparent","&:hover":{backgroundColor:o?"action.selected":"action.hover"},transition:h.transitions.create("background-color",{duration:h.transitions.duration.short})},children:[r.jsx(n.Checkbox,{checked:o,onChange:g,size:"small",sx:{color:"primary.main","&.Mui-checked":{color:"primary.main"},p:.5,mr:1}}),r.jsx(n.Box,{sx:{mr:1,position:"relative"},children:r.jsx(n.Avatar,{src:d?void 0:s.avatar,alt:s.name,sx:{width:34,height:34,bgcolor:d?"grey.300":void 0},children:d&&r.jsx(L.Group,{sx:{fontSize:18,color:"text.secondary"}})})}),r.jsxs(n.Box,{sx:{flexGrow:1,minWidth:0},children:[r.jsx(n.Typography,{variant:"body1",sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"1rem",fontWeight:400,color:"text.primary",lineHeight:1.3,mb:0},children:s.name}),r.jsx(n.Typography,{variant:"body2",sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"0.875rem",fontWeight:400,color:"text.secondary",lineHeight:1.3},children:s.position})]}),!d&&r.jsx(n.Chip,{label:xe(s.status),color:pe(s.status),size:"small",variant:"filled",sx:{minWidth:70,height:24,fontFamily:'"Open Sans", sans-serif',fontSize:"0.8125rem",fontWeight:400,"& .MuiChip-label":{px:1,lineHeight:"18px"}}})]})},oe=({athletes:s,selectedAthletes:o,onSelectionChange:l,onBatchSelectionChange:i,groupBy:h,order:g,showOnlySelected:d=!1})=>{const[C,m]=_.useState(["Goalkeeper","Defender","Midfielder","Forward"]),P=c=>{const A=o.includes(c);l(c,!A)},p=c=>{const A=c.every(D=>o.includes(D.id)),B=c.map(D=>D.id),y=!A;i?i(B,y):B.forEach(D=>{l(D,y)})},x=c=>(A,B)=>{m(y=>B?[...y,c]:y.filter(D=>D!==c))},u=_.useMemo(()=>d?s.filter(c=>o.includes(c.id)):s,[s,o,d]),v=c=>{switch(c.toLowerCase().trim()){case"goalkeeper":return"Goalkeeper";case"defender":return"Defender";case"midfielder":case"winger":return"Midfielder";case"striker":case"centre forward":case"center forward":return"Forward";default:return c}},T=_.useMemo(()=>{const c={};u.forEach(S=>{let k;h==="position"?k=v(S.position):h==="status"?k=S.status:k=S.ageGroup,c[k]||(c[k]=[]),c[k].push(S)});const A=Object.entries(c).map(([S,k])=>{var K;const J=[...k].sort((Q,X)=>Q.name.localeCompare(X.name));g==="desc"&&J.reverse();const q=h==="position"?{id:`${S}-aggregate`,name:S,position:"Aggregate",ageGroup:((K=J[0])==null?void 0:K.ageGroup)||"U23",status:"available",avatar:""}:void 0;return{id:S,name:S,athletes:J,aggregateAthlete:q}}),B=S=>{const k=S.match(/U(\d+)/);return k?parseInt(k[1],10):0},y=["Goalkeeper","Defender","Midfielder","Forward"],D=S=>{const k=y.indexOf(S);return k>=0?k:999};return A.sort((S,k)=>h==="squad"?B(k.name)-B(S.name):h==="position"?D(S.name)-D(k.name):S.name.localeCompare(k.name)),A},[u,h,g]);return r.jsx(n.Box,{sx:{width:"100%"},children:T.map((c,A)=>{const B=C.includes(c.id),y=c.athletes.filter(S=>o.includes(S.id)).length,D=c.athletes.every(S=>o.includes(S.id));return r.jsxs(n.Box,{children:[r.jsxs(n.Accordion,{expanded:B,onChange:x(c.id),elevation:0,sx:{"&:before":{display:"none"},"& .MuiAccordionSummary-root":{minHeight:48,px:2,py:0,"&.Mui-expanded":{minHeight:48}},"& .MuiAccordionDetails-root":{p:0}},children:[r.jsx(n.AccordionSummary,{expandIcon:r.jsx(L.ExpandMore,{}),sx:{flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper":{transform:B?"rotate(180deg)":"rotate(0deg)",transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",mr:1}},children:r.jsxs(n.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[r.jsxs(n.Typography,{variant:"body1",sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"1rem",fontWeight:400,color:"text.primary"},children:[c.name,y>0&&r.jsxs(n.Typography,{component:"span",variant:"body2",sx:{color:"text.secondary",ml:.5},children:["(",y,")"]})]}),r.jsx(n.Button,{size:"small",onClick:S=>{S.stopPropagation(),p(c.athletes)},sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"0.875rem",fontWeight:400,color:"text.primary",textTransform:"none",minWidth:"auto",p:0,"&:hover":{backgroundColor:"transparent",textDecoration:"underline"}},children:D?"Deselect all":"Select all"})]})}),r.jsx(n.AccordionDetails,{children:r.jsxs(n.Box,{children:[c.aggregateAthlete&&r.jsx(ge,{athlete:c.aggregateAthlete,isSelected:o.includes(c.aggregateAthlete.id),onToggle:P,showGroupIcon:!0}),h==="position"&&r.jsx(n.Box,{sx:{px:2,py:0},children:r.jsx(n.Typography,{variant:"body2",sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"0.875rem",fontWeight:600,color:"text.primary"},children:c.name})}),c.athletes.map(S=>r.jsx(ge,{athlete:S,isSelected:o.includes(S.id),onToggle:P},S.id))]})})]}),A<T.length-1&&r.jsx(n.Divider,{sx:{mx:2}})]},c.id)})})},ve=({order:s,onChange:o})=>{const l=s==="asc"?"desc":"asc",i=s==="asc"?"Order A → Z":"Order Z → A";return r.jsx(n.Tooltip,{title:i,arrow:!0,children:r.jsx(n.IconButton,{size:"small",onClick:()=>o(l),sx:{color:"text.secondary","&:hover":{backgroundColor:"action.hover"},transform:s==="asc"?"none":"scaleX(-1)",transition:"transform 120ms ease-in-out"},"aria-label":i,children:r.jsx(L.SortByAlpha,{fontSize:"small"})})})},me=({athletes:s,selectedAthletes:o=[],onSelectionChange:l,onClose:i,onBack:h,title:g="Athletes",showBackButton:d=!1,maxHeight:C=600,compact:m=!1,loading:P=!1,error:p})=>{const x=n.useTheme(),u=n.useMediaQuery(x.breakpoints.down("sm")),v=m||u,[T,c]=_.useState({searchTerm:"",selectedAgeGroups:[],selectedPositions:[],selectedSquad:"current",sortBy:"name",sortOrder:"asc"}),[A,B]=_.useState("position"),[y,D]=_.useState("asc"),[S,k]=_.useState(!1),[J,q]=_.useState("squads"),K=_.useMemo(()=>{const E=fe(s,T);return he(E,T.sortBy,T.sortOrder)},[s,T]),Q=E=>{c(G=>({...G,searchTerm:E.target.value}))},X=E=>{let G="all",U=A;switch(q(E),E){case"selected":G="all",U="position",k(!0);break;case"squads":G="current",U="squad",k(!1);break;case"free-agents":G="free-agents",U="position",k(!1);break;case"historical":G="historical",U="position",k(!1);break;default:G="all",U="position",k(!1);break}B(U),c(V=>({...V,selectedSquad:G}))},F=(E,G)=>{const U=G?[...o,E]:o.filter(V=>V!==E);l(U)},z=(E,G)=>{let U;G?U=[...o,...E.filter(V=>!o.includes(V))]:U=o.filter(V=>!E.includes(V)),l(U)},M=E=>{D(E)};return P?r.jsx(n.Box,{sx:{p:3,textAlign:"center"},children:r.jsx(n.Typography,{children:"Loading athletes..."})}):p?r.jsx(n.Box,{sx:{p:3,textAlign:"center"},children:r.jsx(n.Typography,{color:"error",children:p})}):r.jsxs(n.Box,{sx:{height:"100%",maxHeight:C,display:"flex",flexDirection:"column",overflow:"hidden"},children:[r.jsxs(n.Box,{sx:{py:1,px:v?2:3,borderBottom:"1px solid",borderColor:"divider",flexShrink:0},children:[r.jsxs(n.Box,{sx:{display:"flex",alignItems:"center",mb:0},children:[d&&r.jsx(n.IconButton,{onClick:h,sx:{mr:1},size:v?"small":"medium",children:r.jsx(L.ArrowBack,{})}),r.jsx(n.Typography,{variant:v?"h6":"h5",fontWeight:"semibold",sx:{flexGrow:1},children:g}),i&&r.jsx(n.IconButton,{onClick:i,size:v?"small":"medium",children:r.jsx(L.Close,{})})]}),r.jsxs(n.Stack,{spacing:.5,children:[r.jsxs(n.Box,{sx:{display:"flex",gap:1,alignItems:"center"},children:[r.jsx(n.Box,{sx:{minWidth:140,flexShrink:0},children:r.jsx(de,{selectedSquad:J,onSquadChange:X,selectedCount:o.length,compact:!0})}),r.jsx(n.TextField,{placeholder:"Search",value:T.searchTerm,onChange:Q,size:"small",sx:{flexGrow:1,"& .MuiInputBase-root":{fontFamily:'"Open Sans", sans-serif'}},InputProps:{endAdornment:r.jsx(n.InputAdornment,{position:"end",children:r.jsx(L.Search,{fontSize:"small"})})}}),r.jsx(ve,{order:y,onChange:M})]}),o.length>0&&r.jsx(n.Box,{children:r.jsx(n.Chip,{label:`${o.length} selected`,color:"primary",size:"small",onDelete:()=>l([])})})]})]}),r.jsx(n.Box,{sx:{flexGrow:1,overflow:"auto"},children:r.jsx(oe,{athletes:K,selectedAthletes:o,onSelectionChange:F,onBatchSelectionChange:z,groupBy:A,order:y,showOnlySelected:S})}),r.jsx(n.Box,{sx:{py:1,px:v?2:3,borderTop:"1px solid",borderColor:"divider",flexShrink:0},children:r.jsx(n.Box,{sx:{display:"flex",justifyContent:"flex-end"},children:r.jsx(n.Button,{variant:"contained",color:"primary",onClick:i,disabled:o.length===0,sx:{fontFamily:'"Open Sans", sans-serif',textTransform:"none"},children:"Done"})})})]})},nr=({open:s,anchor:o="right",width:l=460,onClose:i,...h})=>{const g=n.useTheme(),d=n.useMediaQuery(g.breakpoints.down("md")),C=d?"100vw":l,m=d?"bottom":o;return r.jsx(n.Drawer,{open:s,onClose:i,anchor:m,sx:{"& .MuiDrawer-paper":{width:C,maxWidth:"100vw",height:d?"90vh":"100vh",maxHeight:"100vh",boxShadow:g.shadows[16],borderRadius:d?"16px 16px 0 0":0}},ModalProps:{keepMounted:!0},children:r.jsx(me,{...h,onClose:i,compact:d,maxHeight:"100%"})})},tr=({selectedAthletes:s=[],buttonText:o="Select Athletes",buttonVariant:l="outlined",buttonColor:i="primary",showBadge:h=!0,maxWidth:g=400,maxHeight:d=500,onSelectionChange:C,...m})=>{const P=n.useTheme(),p=n.useMediaQuery(P.breakpoints.down("sm")),[x,u]=_.useState(null),v=_.useRef(null),T=!!x,c=D=>{u(D.currentTarget)},A=()=>{u(null)},B=D=>{C(D)},y=r.jsx(n.Button,{ref:v,variant:l,color:i,onClick:c,endIcon:r.jsx(L.ArrowDropDown,{}),startIcon:r.jsx(L.People,{}),sx:{textTransform:"none",minWidth:p?"100%":"auto"},children:s.length>0?`${s.length} ${s.length===1?"athlete":"athletes"} selected`:o});return r.jsxs(n.Box,{sx:{display:"inline-block",width:p?"100%":"auto"},children:[h&&s.length>0?r.jsx(n.Badge,{badgeContent:s.length,color:"primary",max:99,children:y}):y,r.jsx(n.Popover,{open:T,anchorEl:x,onClose:A,anchorOrigin:{vertical:"bottom",horizontal:p?"center":"left"},transformOrigin:{vertical:"top",horizontal:p?"center":"left"},sx:{"& .MuiPopover-paper":{mt:1,maxWidth:p?"95vw":g,maxHeight:p?"80vh":d,minWidth:p?"90vw":350,borderRadius:2,boxShadow:P.shadows[8]}},slotProps:{paper:{elevation:8}},children:r.jsx(n.Paper,{children:r.jsx(me,{...m,selectedAthletes:s,onSelectionChange:B,onClose:A,compact:p,maxHeight:p?"75vh":d})})})]})},or=({athlete:s,isSelected:o,onSelectionChange:l,compact:i=!1})=>{const h=n.useTheme(),g=n.useMediaQuery(h.breakpoints.down("sm")),d=i||g,C=m=>{l(s.id,m.target.checked)};return r.jsx(n.Card,{variant:"outlined",sx:{mb:1,backgroundColor:o?"action.selected":"transparent","&:hover":{backgroundColor:"action.hover"},transition:h.transitions.create("background-color",{duration:h.transitions.duration.short}),border:"1px solid",borderColor:"divider"},children:r.jsxs(n.CardContent,{sx:{display:"flex",alignItems:"center",gap:2,py:d?1.5:2,px:d?2:3,"&:last-child":{pb:d?1.5:2}},children:[r.jsx(n.Checkbox,{checked:o,onChange:C,size:d?"small":"medium",sx:{color:"primary.main","&.Mui-checked":{color:"primary.main"}}}),r.jsx(n.Avatar,{src:s.avatar,alt:s.name,sx:{width:d?32:40,height:d?32:40,border:"1px solid",borderColor:"divider"},children:s.name.split(" ").map(m=>m[0]).join("").toUpperCase()}),r.jsxs(n.Box,{sx:{flexGrow:1,minWidth:0},children:[r.jsx(n.Typography,{variant:d?"body2":"body1",fontWeight:"medium",sx:{color:"text.primary",mb:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s.name}),r.jsx(n.Typography,{variant:d?"caption":"body2",color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s.position})]}),r.jsx(n.Chip,{label:xe(s.status),color:pe(s.status),size:d?"small":"medium",variant:"filled",sx:{minWidth:d?60:80,fontWeight:"medium",fontFamily:'"Open Sans", sans-serif'}})]})})},_e=({athletes:s,selectedAthletes:o,onSelectionChange:l,onBatchSelectionChange:i,order:h="asc"})=>{const[g,d]=_.useState(null),C=_.useMemo(()=>{const x={};return s.forEach(u=>{const v=u.ageGroup;x[v]||(x[v]=[]),x[v].push(u)}),Object.entries(x).map(([u,v])=>({id:u,name:u,athletes:v})).sort((u,v)=>{const T=c=>{const A=c.match(/U(\d+)/);return A?parseInt(A[1]):0};return T(v.name)-T(u.name)})},[s]),m=x=>{d(x)},P=()=>{d(null)},p=x=>{const u=x.every(c=>o.includes(c.id)),v=x.map(c=>c.id),T=!u;i?i(v,T):v.forEach(c=>{l(c,T)})};return g?r.jsxs(n.Box,{sx:{width:"100%"},children:[r.jsxs(n.Box,{sx:{display:"flex",alignItems:"center",px:2,py:1.5,borderBottom:"1px solid",borderColor:"divider",backgroundColor:"background.paper"},children:[r.jsx(n.IconButton,{onClick:P,size:"small",sx:{mr:1},children:r.jsx(L.ArrowBack,{fontSize:"small"})}),r.jsx(n.Typography,{variant:"h6",sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"1rem",fontWeight:600,color:"text.primary",flexGrow:1},children:g.name})]}),r.jsx(n.Box,{sx:{overflow:"auto"},children:r.jsx(oe,{athletes:g.athletes,selectedAthletes:o,onSelectionChange:l,onBatchSelectionChange:i,groupBy:"position",order:h})})]}):r.jsx(n.Paper,{elevation:0,sx:{width:"100%"},children:r.jsx(n.List,{sx:{py:0},children:C.map(x=>{const u=x.name==="U23";return r.jsx(n.ListItem,{disablePadding:!0,sx:{backgroundColor:u?"action.selected":"transparent"},children:r.jsx(n.ListItemButton,{onClick:()=>m(x),sx:{px:2,py:1,"&:hover":{backgroundColor:u?"action.selected":"action.hover"}},children:r.jsx(n.ListItemText,{primary:r.jsxs(n.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsxs(n.Typography,{sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"1rem",fontWeight:400,color:"text.primary"},children:[x.name,(()=>{const v=x.athletes.filter(T=>o.includes(T.id)).length;return v>0?r.jsxs(n.Typography,{component:"span",variant:"body2",sx:{color:"text.secondary",ml:.5},children:["(",v,")"]}):null})()]}),(()=>{const T=x.athletes.filter(c=>o.includes(c.id)).length===x.athletes.length&&x.athletes.length>0;return r.jsx(n.Button,{size:"small",onClick:c=>{c.stopPropagation(),p(x.athletes)},sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"0.8125rem",fontWeight:400,color:"text.primary",textTransform:"none",minWidth:"auto",p:0,"&:hover":{backgroundColor:"transparent",textDecoration:"underline"}},children:T?"Deselect all":"Select all"})})(),r.jsx(L.ChevronRight,{fontSize:"small",sx:{color:"text.secondary"}})]})})})},x.id)})})})},ye=({athletes:s,selectedAthletes:o=[],onSelectionChange:l,onClose:i,onBack:h,title:g="Athletes",showBackButton:d=!1,maxHeight:C=600,compact:m=!1,loading:P=!1,error:p})=>{const x=n.useTheme(),u=n.useMediaQuery(x.breakpoints.down("sm")),v=m||u,[T,c]=_.useState({searchTerm:"",selectedAgeGroups:[],selectedPositions:[],selectedSquad:"current",sortBy:"name",sortOrder:"asc"}),[A,B]=_.useState("asc"),[y,D]=_.useState("squads"),S=_.useMemo(()=>{const F=fe(s,T);return he(F,T.sortBy,T.sortOrder)},[s,T]),k=_.useMemo(()=>y==="selected"?S.filter(F=>o.includes(F.id)):S,[S,o,y]),J=F=>{c(z=>({...z,searchTerm:F.target.value}))},q=F=>{let z="all";switch(D(F),F){case"selected":z="all";break;case"squads":z="current";break;case"free-agents":z="free-agents";break;case"historical":z="historical";break;default:z="all";break}c(M=>({...M,selectedSquad:z}))},K=(F,z)=>{const M=z?[...o,F]:o.filter(E=>E!==F);l(M)},Q=(F,z)=>{let M;z?M=[...o,...F.filter(E=>!o.includes(E))]:M=o.filter(E=>!F.includes(E)),l(M)},X=F=>B(F);return P?r.jsx(n.Box,{sx:{p:3,textAlign:"center"},children:r.jsx(n.Typography,{children:"Loading athletes..."})}):p?r.jsx(n.Box,{sx:{p:3,textAlign:"center"},children:r.jsx(n.Typography,{color:"error",children:p})}):r.jsxs(n.Box,{sx:{display:"flex",flexDirection:"column",height:"100%",maxHeight:`${C}px`,bgcolor:"background.paper",borderRadius:1,overflow:"hidden"},children:[r.jsxs(n.Box,{sx:{py:1,px:v?2:3,borderBottom:"1px solid",borderColor:"divider",flexShrink:0},children:[r.jsxs(n.Box,{sx:{display:"flex",alignItems:"center",mb:0},children:[d&&h&&r.jsx(n.IconButton,{onClick:h,size:v?"small":"medium",sx:{mr:1},children:r.jsx(L.ArrowBack,{})}),r.jsx(n.Typography,{variant:v?"h6":"h5",fontWeight:"semibold",sx:{flexGrow:1},children:g}),i&&r.jsx(n.IconButton,{onClick:i,size:v?"small":"medium",children:r.jsx(L.Close,{})})]}),r.jsxs(n.Stack,{spacing:.5,children:[r.jsxs(n.Box,{sx:{display:"flex",gap:1,alignItems:"center",mb:0},children:[r.jsx(n.Box,{sx:{minWidth:140,flexShrink:0},children:r.jsx(de,{selectedSquad:y,onSquadChange:q,selectedCount:o.length,compact:!0})}),r.jsx(n.TextField,{placeholder:"Search",value:T.searchTerm,onChange:J,size:"small",sx:{flexGrow:1,"& .MuiInputBase-root":{fontFamily:'"Open Sans", sans-serif'}},InputProps:{endAdornment:r.jsx(n.InputAdornment,{position:"end",children:r.jsx(L.Search,{fontSize:"small"})})}}),r.jsx(ve,{order:A,onChange:X})]}),o.length>0&&r.jsx(n.Box,{children:r.jsx(n.Chip,{label:`${o.length} selected`,color:"primary",size:"small",onDelete:()=>l([])})})]})]}),r.jsx(n.Box,{sx:{flexGrow:1,overflow:"auto"},children:y==="historical"?r.jsx(oe,{athletes:k,selectedAthletes:o,onSelectionChange:K,onBatchSelectionChange:Q,groupBy:"position",order:A,showOnlySelected:!1}):r.jsx(_e,{athletes:k,selectedAthletes:o,onSelectionChange:K,onBatchSelectionChange:Q,order:A})}),r.jsx(n.Box,{sx:{py:1,px:v?2:3,borderTop:"1px solid",borderColor:"divider",flexShrink:0},children:r.jsx(n.Box,{sx:{display:"flex",justifyContent:"flex-end"},children:r.jsx(n.Button,{variant:"contained",color:"primary",onClick:i,disabled:o.length===0,sx:{fontFamily:'"Open Sans", sans-serif',textTransform:"none"},children:"Done"})})})]})},sr=({open:s,onClose:o,anchor:l="right",athletes:i,selectedAthletes:h,onSelectionChange:g,title:d="Select Athletes",maxHeight:C,...m})=>{const P=n.useTheme(),p=n.useMediaQuery(P.breakpoints.down("sm"));return r.jsx(n.Drawer,{anchor:l,open:s,onClose:o,variant:"temporary",sx:{"& .MuiDrawer-paper":{width:p?"100vw":500,maxWidth:"100vw",height:"100vh",maxHeight:"100vh",boxShadow:P.shadows[16],borderRadius:p?"16px 16px 0 0":0}},ModalProps:{keepMounted:!0},children:r.jsx(ye,{athletes:i,selectedAthletes:h,onSelectionChange:g,onClose:o,title:d,compact:p,maxHeight:"100%",...m})})},ir=({open:s,onClose:o,anchorEl:l,athletes:i,selectedAthletes:h,onSelectionChange:g,title:d="Select Athletes",maxHeight:C=600,...m})=>{const P=n.useTheme(),p=n.useMediaQuery(P.breakpoints.down("sm"));return r.jsx(n.Popover,{open:s,anchorEl:l,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{sx:{width:p?"90vw":500,maxWidth:"95vw",maxHeight:p?"80vh":C,overflow:"hidden"}},children:r.jsx(ye,{athletes:i,selectedAthletes:h,onSelectionChange:g,onClose:o,title:d,compact:p,maxHeight:C,...m})})};R.AthleteCard=or,R.AthleteSelectorContent=me,R.AthleteSelectorTreeContent=ye,R.CompactAthleteCard=ge,R.DrawerAthleteSelector=nr,R.DrawerAthleteSelectorTree=sr,R.DropdownAthleteSelector=tr,R.DropdownAthleteSelectorTree=ir,R.ExpandableSquadSelector=de,R.GroupedAthleteList=oe,R.SimpleTreeNavigationList=_e,R.SortMenu=ve,R.filterAthletes=fe,R.getStatusColor=pe,R.getStatusLabel=xe,R.groupAthletesByAgeGroup=er,R.groupAthletesByPosition=rr,R.sortAthletes=he,Object.defineProperty(R,Symbol.toStringTag,{value:"Module"})});
