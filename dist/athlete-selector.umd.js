(function(T,A){typeof exports=="object"&&typeof module<"u"?A(exports,require("react"),require("@mui/material"),require("@mui/icons-material")):typeof define=="function"&&define.amd?define(["exports","react","@mui/material","@mui/icons-material"],A):(T=typeof globalThis<"u"?globalThis:T||self,A(T.AthleteSelector={},T.React,T.MaterialUI,T.MaterialUIIcons))})(this,function(T,A,n,P){"use strict";var oe={exports:{}},V={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce;function Xe(){if(Ce)return V;Ce=1;var i=A,a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function u(j,h,S){var c,d={},f=null,g=null;S!==void 0&&(f=""+S),h.key!==void 0&&(f=""+h.key),h.ref!==void 0&&(g=h.ref);for(c in h)o.call(h,c)&&!m.hasOwnProperty(c)&&(d[c]=h[c]);if(j&&j.defaultProps)for(c in h=j.defaultProps,h)d[c]===void 0&&(d[c]=h[c]);return{$$typeof:a,type:j,key:f,ref:g,props:d,_owner:x.current}}return V.Fragment=l,V.jsx=u,V.jsxs=u,V}var q={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var we;function $e(){return we||(we=1,process.env.NODE_ENV!=="production"&&function(){var i=A,a=Symbol.for("react.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),j=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),v=Symbol.iterator,D="@@iterator";function F(e){if(e===null||typeof e!="object")return null;var t=v&&e[v]||e[D];return typeof t=="function"?t:null}var W=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function E(e){{for(var t=arguments.length,s=new Array(t>1?t-1:0),p=1;p<t;p++)s[p-1]=arguments[p];G("error",e,s)}}function G(e,t,s){{var p=W.ReactDebugCurrentFrame,C=p.getStackAddendum();C!==""&&(t+="%s",s=s.concat([C]));var w=s.map(function(y){return String(y)});w.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,w)}}var K=!1,J=!1,Q=!1,k=!1,R=!1,z;z=Symbol.for("react.module.reference");function X(e){return!!(typeof e=="string"||typeof e=="function"||e===o||e===m||R||e===x||e===S||e===c||k||e===g||K||J||Q||typeof e=="object"&&e!==null&&(e.$$typeof===f||e.$$typeof===d||e.$$typeof===u||e.$$typeof===j||e.$$typeof===h||e.$$typeof===z||e.getModuleId!==void 0))}function ar(e,t,s){var p=e.displayName;if(p)return p;var C=t.displayName||t.name||"";return C!==""?s+"("+C+")":s}function Ee(e){return e.displayName||"Context"}function L(e){if(e==null)return null;if(typeof e.tag=="number"&&E("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case o:return"Fragment";case l:return"Portal";case m:return"Profiler";case x:return"StrictMode";case S:return"Suspense";case c:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j:var t=e;return Ee(t)+".Consumer";case u:var s=e;return Ee(s._context)+".Provider";case h:return ar(e,e.render,"ForwardRef");case d:var p=e.displayName||null;return p!==null?p:L(e.type)||"Memo";case f:{var C=e,w=C._payload,y=C._init;try{return L(y(w))}catch{return null}}}return null}var U=Object.assign,$=0,Re,_e,Oe,Ae,Pe,Be,Ie;function De(){}De.__reactDisabledLog=!0;function lr(){{if($===0){Re=console.log,_e=console.info,Oe=console.warn,Ae=console.error,Pe=console.group,Be=console.groupCollapsed,Ie=console.groupEnd;var e={configurable:!0,enumerable:!0,value:De,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}$++}}function cr(){{if($--,$===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:U({},e,{value:Re}),info:U({},e,{value:_e}),warn:U({},e,{value:Oe}),error:U({},e,{value:Ae}),group:U({},e,{value:Pe}),groupCollapsed:U({},e,{value:Be}),groupEnd:U({},e,{value:Ie})})}$<0&&E("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var xe=W.ReactCurrentDispatcher,ge;function ee(e,t,s){{if(ge===void 0)try{throw Error()}catch(C){var p=C.stack.trim().match(/\n( *(at )?)/);ge=p&&p[1]||""}return`
`+ge+e}}var ve=!1,re;{var ur=typeof WeakMap=="function"?WeakMap:Map;re=new ur}function Fe(e,t){if(!e||ve)return"";{var s=re.get(e);if(s!==void 0)return s}var p;ve=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var w;w=xe.current,xe.current=null,lr();try{if(t){var y=function(){throw Error()};if(Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(I){p=I}Reflect.construct(e,[],y)}else{try{y.call()}catch(I){p=I}e.call(y.prototype)}}else{try{throw Error()}catch(I){p=I}e()}}catch(I){if(I&&p&&typeof I.stack=="string"){for(var b=I.stack.split(`
`),B=p.stack.split(`
`),_=b.length-1,O=B.length-1;_>=1&&O>=0&&b[_]!==B[O];)O--;for(;_>=1&&O>=0;_--,O--)if(b[_]!==B[O]){if(_!==1||O!==1)do if(_--,O--,O<0||b[_]!==B[O]){var M=`
`+b[_].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),typeof e=="function"&&re.set(e,M),M}while(_>=1&&O>=0);break}}}finally{ve=!1,xe.current=w,cr(),Error.prepareStackTrace=C}var H=e?e.displayName||e.name:"",N=H?ee(H):"";return typeof e=="function"&&re.set(e,N),N}function dr(e,t,s){return Fe(e,!1)}function fr(e){var t=e.prototype;return!!(t&&t.isReactComponent)}function ne(e,t,s){if(e==null)return"";if(typeof e=="function")return Fe(e,fr(e));if(typeof e=="string")return ee(e);switch(e){case S:return ee("Suspense");case c:return ee("SuspenseList")}if(typeof e=="object")switch(e.$$typeof){case h:return dr(e.render);case d:return ne(e.type,t,s);case f:{var p=e,C=p._payload,w=p._init;try{return ne(w(C),t,s)}catch{}}}return""}var Z=Object.prototype.hasOwnProperty,We={},Me=W.ReactDebugCurrentFrame;function te(e){if(e){var t=e._owner,s=ne(e.type,e._source,t?t.type:null);Me.setExtraStackFrame(s)}else Me.setExtraStackFrame(null)}function hr(e,t,s,p,C){{var w=Function.call.bind(Z);for(var y in e)if(w(e,y)){var b=void 0;try{if(typeof e[y]!="function"){var B=Error((p||"React class")+": "+s+" type `"+y+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[y]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw B.name="Invariant Violation",B}b=e[y](t,y,p,s,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(_){b=_}b&&!(b instanceof Error)&&(te(C),E("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",p||"React class",s,y,typeof b),te(null)),b instanceof Error&&!(b.message in We)&&(We[b.message]=!0,te(C),E("Failed %s type: %s",s,b.message),te(null))}}}var pr=Array.isArray;function me(e){return pr(e)}function xr(e){{var t=typeof Symbol=="function"&&Symbol.toStringTag,s=t&&e[Symbol.toStringTag]||e.constructor.name||"Object";return s}}function gr(e){try{return ze(e),!1}catch{return!0}}function ze(e){return""+e}function Ge(e){if(gr(e))return E("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",xr(e)),ze(e)}var Le=W.ReactCurrentOwner,vr={key:!0,ref:!0,__self:!0,__source:!0},Ue,Ne;function mr(e){if(Z.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return e.ref!==void 0}function br(e){if(Z.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function yr(e,t){typeof e.ref=="string"&&Le.current}function Sr(e,t){{var s=function(){Ue||(Ue=!0,E("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};s.isReactWarning=!0,Object.defineProperty(e,"key",{get:s,configurable:!0})}}function jr(e,t){{var s=function(){Ne||(Ne=!0,E("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};s.isReactWarning=!0,Object.defineProperty(e,"ref",{get:s,configurable:!0})}}var Cr=function(e,t,s,p,C,w,y){var b={$$typeof:a,type:e,key:t,ref:s,props:y,_owner:w};return b._store={},Object.defineProperty(b._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(b,"_self",{configurable:!1,enumerable:!1,writable:!1,value:p}),Object.defineProperty(b,"_source",{configurable:!1,enumerable:!1,writable:!1,value:C}),Object.freeze&&(Object.freeze(b.props),Object.freeze(b)),b};function wr(e,t,s,p,C){{var w,y={},b=null,B=null;s!==void 0&&(Ge(s),b=""+s),br(t)&&(Ge(t.key),b=""+t.key),mr(t)&&(B=t.ref,yr(t,C));for(w in t)Z.call(t,w)&&!vr.hasOwnProperty(w)&&(y[w]=t[w]);if(e&&e.defaultProps){var _=e.defaultProps;for(w in _)y[w]===void 0&&(y[w]=_[w])}if(b||B){var O=typeof e=="function"?e.displayName||e.name||"Unknown":e;b&&Sr(y,O),B&&jr(y,O)}return Cr(e,b,B,C,p,Le.current,y)}}var be=W.ReactCurrentOwner,Ye=W.ReactDebugCurrentFrame;function Y(e){if(e){var t=e._owner,s=ne(e.type,e._source,t?t.type:null);Ye.setExtraStackFrame(s)}else Ye.setExtraStackFrame(null)}var ye;ye=!1;function Se(e){return typeof e=="object"&&e!==null&&e.$$typeof===a}function He(){{if(be.current){var e=L(be.current.type);if(e)return`

Check the render method of \``+e+"`."}return""}}function Tr(e){return""}var Ve={};function kr(e){{var t=He();if(!t){var s=typeof e=="string"?e:e.displayName||e.name;s&&(t=`

Check the top-level render call using <`+s+">.")}return t}}function qe(e,t){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var s=kr(t);if(Ve[s])return;Ve[s]=!0;var p="";e&&e._owner&&e._owner!==be.current&&(p=" It was passed a child from "+L(e._owner.type)+"."),Y(e),E('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',s,p),Y(null)}}function Ke(e,t){{if(typeof e!="object")return;if(me(e))for(var s=0;s<e.length;s++){var p=e[s];Se(p)&&qe(p,t)}else if(Se(e))e._store&&(e._store.validated=!0);else if(e){var C=F(e);if(typeof C=="function"&&C!==e.entries)for(var w=C.call(e),y;!(y=w.next()).done;)Se(y.value)&&qe(y.value,t)}}}function Er(e){{var t=e.type;if(t==null||typeof t=="string")return;var s;if(typeof t=="function")s=t.propTypes;else if(typeof t=="object"&&(t.$$typeof===h||t.$$typeof===d))s=t.propTypes;else return;if(s){var p=L(t);hr(s,e.props,"prop",p,e)}else if(t.PropTypes!==void 0&&!ye){ye=!0;var C=L(t);E("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",C||"Unknown")}typeof t.getDefaultProps=="function"&&!t.getDefaultProps.isReactClassApproved&&E("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Rr(e){{for(var t=Object.keys(e.props),s=0;s<t.length;s++){var p=t[s];if(p!=="children"&&p!=="key"){Y(e),E("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",p),Y(null);break}}e.ref!==null&&(Y(e),E("Invalid attribute `ref` supplied to `React.Fragment`."),Y(null))}}var Je={};function Qe(e,t,s,p,C,w){{var y=X(e);if(!y){var b="";(e===void 0||typeof e=="object"&&e!==null&&Object.keys(e).length===0)&&(b+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var B=Tr();B?b+=B:b+=He();var _;e===null?_="null":me(e)?_="array":e!==void 0&&e.$$typeof===a?(_="<"+(L(e.type)||"Unknown")+" />",b=" Did you accidentally export a JSX literal instead of a component?"):_=typeof e,E("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",_,b)}var O=wr(e,t,s,C,w);if(O==null)return O;if(y){var M=t.children;if(M!==void 0)if(p)if(me(M)){for(var H=0;H<M.length;H++)Ke(M[H],e);Object.freeze&&Object.freeze(M)}else E("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Ke(M,e)}if(Z.call(t,"key")){var N=L(e),I=Object.keys(t).filter(function(Ir){return Ir!=="key"}),je=I.length>0?"{key: someKey, "+I.join(": ..., ")+": ...}":"{key: someKey}";if(!Je[N+je]){var Br=I.length>0?"{"+I.join(": ..., ")+": ...}":"{}";E(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,je,N,Br,N),Je[N+je]=!0}}return e===o?Rr(O):Er(O),O}}function _r(e,t,s){return Qe(e,t,s,!0)}function Or(e,t,s){return Qe(e,t,s,!1)}var Ar=Or,Pr=_r;q.Fragment=o,q.jsx=Ar,q.jsxs=Pr}()),q}process.env.NODE_ENV==="production"?oe.exports=Xe():oe.exports=$e();var r=oe.exports;const Te=[{id:"selected",label:"Selected",count:1},{id:"current",label:"Current squads"},{id:"labels",label:"Labels"},{id:"groups",label:"Groups"},{id:"status",label:"Status"},{id:"position-groups",label:"Position groups"},{id:"historical",label:"Historical squads",hasSubmenu:!0}],se=({selectedSquad:i,onSquadChange:a,selectedCount:l=0,compact:o=!1})=>{const x=n.useTheme(),m=n.useMediaQuery(x.breakpoints.down("sm")),[u,j]=A.useState(!1),h=()=>{j(!u)},S=f=>{a(f),m||j(!1)},c=()=>{const f=Te.find(g=>g.id===i);return(f==null?void 0:f.label)||"Current squads"},d=f=>f.id==="selected"&&l>0?`${f.label} (${l})`:f.label;return r.jsxs(n.Box,{sx:{position:"relative",width:"100%"},children:[r.jsx(n.Button,{onClick:h,variant:"text",endIcon:u?r.jsx(P.ArrowDropUp,{}):r.jsx(P.ArrowDropDown,{}),sx:{width:"100%",justifyContent:"space-between",textTransform:"none",fontFamily:'"Open Sans", sans-serif',fontSize:o?"0.875rem":"1rem",fontWeight:400,color:"text.primary",px:o?1.5:2,py:o?1:1.5,minHeight:o?36:44,border:"1px solid",borderColor:"divider",borderRadius:1,backgroundColor:"background.paper","&:hover":{backgroundColor:"action.hover",borderColor:"primary.main"}},children:c()}),r.jsx(n.Collapse,{in:u,timeout:"auto",unmountOnExit:!0,children:r.jsx(n.Paper,{elevation:8,sx:{position:"absolute",top:"100%",left:0,right:0,zIndex:x.zIndex.modal,maxHeight:m?"70vh":"400px",overflowY:"auto",mt:.5,border:"1px solid",borderColor:"divider",borderRadius:1},children:r.jsx(n.MenuList,{sx:{py:1,"& .MuiMenuItem-root":{fontFamily:'"Open Sans", sans-serif',fontSize:"1rem",fontWeight:400,px:2,py:1.5,minHeight:"auto"}},children:Te.map(f=>r.jsxs(n.MenuItem,{selected:i===f.id,onClick:()=>S(f.id),sx:{backgroundColor:i===f.id?"action.selected":"transparent","&:hover":{backgroundColor:i===f.id?"action.selected":"action.hover"},"&.Mui-selected":{backgroundColor:"action.selected","&:hover":{backgroundColor:"action.selected"}},display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(n.Typography,{variant:"body1",sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"1rem",fontWeight:400,color:"text.primary",flexGrow:1},children:d(f)}),f.hasSubmenu&&r.jsx(P.ChevronRight,{fontSize:"small",sx:{color:"text.secondary",ml:1}})]},f.id))})})})]})},Ze=i=>{const a=i.reduce((l,o)=>(l[o.ageGroup]||(l[o.ageGroup]={id:o.ageGroup,name:o.ageGroup,athletes:[],isExpanded:!1}),l[o.ageGroup].athletes.push(o),l),{});return Object.values(a).sort((l,o)=>{const x=parseInt(l.name.replace("U",""));return parseInt(o.name.replace("U",""))-x})},er=i=>{const a=i.reduce((l,o)=>(l[o.position]||(l[o.position]={id:o.position,name:o.position,athletes:[]}),l[o.position].athletes.push(o),l),{});return Object.values(a).sort((l,o)=>l.name.localeCompare(o.name))},ie=(i,a)=>i.filter(l=>{if(a.selectedSquad)switch(a.selectedSquad){case"current":if(!["U21","U19","U17"].includes(l.ageGroup))return!1;break;case"youth":if(parseInt(l.ageGroup.replace("U",""))>17)return!1;break}if(a.searchTerm){const o=a.searchTerm.toLowerCase();if(!l.name.toLowerCase().includes(o)&&!l.position.toLowerCase().includes(o)&&!l.ageGroup.toLowerCase().includes(o))return!1}return!(a.selectedAgeGroups.length>0&&!a.selectedAgeGroups.includes(l.ageGroup)||a.selectedPositions.length>0&&!a.selectedPositions.includes(l.position))}),ae=(i,a,l)=>[...i].sort((o,x)=>{let m=0;switch(a){case"name":m=o.name.localeCompare(x.name);break;case"position":m=o.position.localeCompare(x.position);break;case"ageGroup":const u=parseInt(o.ageGroup.replace("U",""));m=parseInt(x.ageGroup.replace("U",""))-u;break;default:m=0}return l==="desc"?-m:m}),le=i=>{switch(i){case"available":return"success";case"unavailable":return"default";case"injured":return"error";default:return"default"}},ce=i=>{switch(i){case"available":return"Available";case"unavailable":return"Unavailable";case"injured":return"Injured";default:return"Unknown"}},ue=({athlete:i,isSelected:a,onToggle:l,showGroupIcon:o=!1})=>{const x=n.useTheme(),m=()=>{l(i.id)},u=i.name.includes("Aggregate")||o;return r.jsxs(n.Box,{sx:{display:"flex",alignItems:"center",py:1,px:2,minHeight:48,backgroundColor:a?"action.selected":"transparent","&:hover":{backgroundColor:a?"action.selected":"action.hover"},transition:x.transitions.create("background-color",{duration:x.transitions.duration.short})},children:[r.jsx(n.Checkbox,{checked:a,onChange:m,size:"small",sx:{color:"primary.main","&.Mui-checked":{color:"primary.main"},p:.5,mr:1}}),r.jsx(n.Box,{sx:{mr:1,position:"relative"},children:r.jsx(n.Avatar,{src:u?void 0:i.avatar,alt:i.name,sx:{width:34,height:34,bgcolor:u?"grey.300":void 0},children:u&&r.jsx(P.Group,{sx:{fontSize:18,color:"text.secondary"}})})}),r.jsxs(n.Box,{sx:{flexGrow:1,minWidth:0},children:[r.jsx(n.Typography,{variant:"body1",sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"1rem",fontWeight:400,color:"text.primary",lineHeight:1.3,mb:0},children:i.name}),r.jsx(n.Typography,{variant:"body2",sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"0.875rem",fontWeight:400,color:"text.secondary",lineHeight:1.3},children:i.position})]}),!u&&r.jsx(n.Chip,{label:ce(i.status),color:le(i.status),size:"small",variant:"filled",sx:{minWidth:70,height:24,fontFamily:'"Open Sans", sans-serif',fontSize:"0.8125rem",fontWeight:400,"& .MuiChip-label":{px:1,lineHeight:"18px"}}})]})},de=({athletes:i,selectedAthletes:a,onSelectionChange:l,sortBy:o})=>{const[x,m]=A.useState(["Forward"]),u=d=>{const f=a.includes(d);l(d,!f)},j=d=>{const f=d.every(g=>a.includes(g.id));d.forEach(g=>{l(g.id,!f)})},h=d=>(f,g)=>{m(v=>g?[...v,d]:v.filter(D=>D!==d))},c=(d=>{const f={};return d.forEach(g=>{let v;switch(o){case"position":v=g.position;break;case"status":v=g.status;break;case"squad":default:v=g.ageGroup;break}f[v]||(f[v]=[]),f[v].push(g)}),Object.entries(f).map(([g,v])=>{var F;const D=o==="position"?{id:`${g}-aggregate`,name:g,position:"Aggregate",ageGroup:((F=v[0])==null?void 0:F.ageGroup)||"U23",status:"available",avatar:""}:void 0;return{id:g,name:g,athletes:v,aggregateAthlete:D}})})(i);return r.jsx(n.Box,{sx:{width:"100%"},children:c.map((d,f)=>{const g=x.includes(d.id);return r.jsxs(n.Box,{children:[r.jsxs(n.Accordion,{expanded:g,onChange:h(d.id),elevation:0,sx:{"&:before":{display:"none"},"& .MuiAccordionSummary-root":{minHeight:48,px:2,py:0,"&.Mui-expanded":{minHeight:48}},"& .MuiAccordionDetails-root":{p:0}},children:[r.jsx(n.AccordionSummary,{expandIcon:r.jsx(P.ExpandMore,{}),sx:{flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper":{transform:g?"rotate(180deg)":"rotate(0deg)",transition:"transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",mr:1}},children:r.jsxs(n.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[r.jsx(n.Typography,{variant:"body1",sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"1rem",fontWeight:400,color:"text.primary"},children:d.name}),r.jsx(n.Button,{size:"small",onClick:v=>{v.stopPropagation(),j(d.athletes)},sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"0.875rem",fontWeight:400,color:"text.primary",textTransform:"none",minWidth:"auto",p:0,"&:hover":{backgroundColor:"transparent",textDecoration:"underline"}},children:"Select all"})]})}),r.jsx(n.AccordionDetails,{children:r.jsxs(n.Box,{children:[d.aggregateAthlete&&r.jsx(ue,{athlete:d.aggregateAthlete,isSelected:a.includes(d.aggregateAthlete.id),onToggle:u,showGroupIcon:!0}),o==="position"&&r.jsx(n.Box,{sx:{px:2,py:0},children:r.jsx(n.Typography,{variant:"body2",sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"0.875rem",fontWeight:600,color:"text.primary"},children:d.name})}),d.athletes.map(v=>r.jsx(ue,{athlete:v,isSelected:a.includes(v.id),onToggle:u},v.id))]})})]}),f<c.length-1&&r.jsx(n.Divider,{sx:{mx:2}})]},d.id)})})},rr=[{value:"squad",label:"Squad"},{value:"status",label:"Status"},{value:"position",label:"Position group"}],fe=({currentSort:i,onSortChange:a})=>{const[l,o]=A.useState(null),x=!!l,m=h=>{o(h.currentTarget)},u=()=>{o(null)},j=h=>{a(h),u()};return r.jsxs(r.Fragment,{children:[r.jsx(n.IconButton,{size:"small",onClick:m,sx:{color:"text.secondary","&:hover":{backgroundColor:"action.hover"}},children:r.jsx(P.Sort,{fontSize:"small"})}),r.jsx(n.Menu,{anchorEl:l,open:x,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{minWidth:160,mt:.5,"& .MuiMenuItem-root":{fontFamily:'"Open Sans", sans-serif',fontSize:"0.875rem",py:1}}},children:rr.map(h=>r.jsx(n.MenuItem,{selected:i===h.value,onClick:()=>j(h.value),children:r.jsx(n.ListItemText,{primary:h.label,sx:{"& .MuiTypography-root":{fontFamily:'"Open Sans", sans-serif',fontSize:"0.875rem"}}})},h.value))})]})},he=({athletes:i,selectedAthletes:a=[],onSelectionChange:l,onClose:o,onBack:x,title:m="Athletes",showBackButton:u=!1,maxHeight:j=600,compact:h=!1,loading:S=!1,error:c})=>{const d=n.useTheme(),f=n.useMediaQuery(d.breakpoints.down("sm")),g=h||f,[v,D]=A.useState({searchTerm:"",selectedAgeGroups:[],selectedPositions:[],selectedSquad:"current",sortBy:"name",sortOrder:"asc"}),[F,W]=A.useState("position"),E=A.useMemo(()=>{const k=ie(i,v);return ae(k,v.sortBy,v.sortOrder)},[i,v]),G=k=>{D(R=>({...R,searchTerm:k.target.value}))},K=k=>{let R=k;switch(k){case"selected":R="all";break;case"current":R="current";break;case"labels":case"groups":case"status":case"position-groups":case"historical":R="all";break;default:R="all"}D(z=>({...z,selectedSquad:R}))},J=(k,R)=>{const z=R?[...a,k]:a.filter(X=>X!==k);l(z)},Q=k=>{W(k)};return S?r.jsx(n.Box,{sx:{p:3,textAlign:"center"},children:r.jsx(n.Typography,{children:"Loading athletes..."})}):c?r.jsx(n.Box,{sx:{p:3,textAlign:"center"},children:r.jsx(n.Typography,{color:"error",children:c})}):r.jsxs(n.Box,{sx:{height:"100%",maxHeight:j,display:"flex",flexDirection:"column",overflow:"hidden"},children:[r.jsxs(n.Box,{sx:{py:1,px:g?2:3,borderBottom:"1px solid",borderColor:"divider",flexShrink:0},children:[r.jsxs(n.Box,{sx:{display:"flex",alignItems:"center",mb:0},children:[u&&r.jsx(n.IconButton,{onClick:x,sx:{mr:1},size:g?"small":"medium",children:r.jsx(P.ArrowBack,{})}),r.jsx(n.Typography,{variant:g?"h6":"h5",fontWeight:"semibold",sx:{flexGrow:1},children:m}),o&&r.jsx(n.IconButton,{onClick:o,size:g?"small":"medium",children:r.jsx(P.Close,{})})]}),r.jsxs(n.Box,{sx:{display:"flex",gap:1,alignItems:"center"},children:[r.jsx(n.Box,{sx:{minWidth:140,flexShrink:0},children:r.jsx(se,{selectedSquad:v.selectedSquad==="current"?"current":"all",onSquadChange:K,selectedCount:a.length,compact:!0})}),r.jsx(n.TextField,{placeholder:"Search",value:v.searchTerm,onChange:G,size:"small",sx:{flexGrow:1,"& .MuiInputBase-root":{fontFamily:'"Open Sans", sans-serif'}},InputProps:{endAdornment:r.jsx(n.InputAdornment,{position:"end",children:r.jsx(P.Search,{fontSize:"small"})})}}),r.jsx(fe,{currentSort:F,onSortChange:Q})]}),r.jsx(n.Stack,{spacing:1,children:a.length>0&&r.jsx(n.Box,{children:r.jsx(n.Chip,{label:`${a.length} selected`,color:"primary",size:"small",onDelete:()=>l([])})})})]}),r.jsx(n.Box,{sx:{flexGrow:1,overflow:"auto"},children:r.jsx(de,{athletes:E,selectedAthletes:a,onSelectionChange:J,sortBy:F})}),r.jsx(n.Box,{sx:{py:1,px:g?2:3,borderTop:"1px solid",borderColor:"divider",flexShrink:0},children:r.jsx(n.Box,{sx:{display:"flex",justifyContent:"flex-end"},children:r.jsx(n.Button,{variant:"contained",color:"primary",onClick:o,disabled:a.length===0,sx:{fontFamily:'"Open Sans", sans-serif',textTransform:"none"},children:"Done"})})})]})},nr=({open:i,anchor:a="right",width:l=460,onClose:o,...x})=>{const m=n.useTheme(),u=n.useMediaQuery(m.breakpoints.down("md")),j=u?"100vw":l,h=u?"bottom":a;return r.jsx(n.Drawer,{open:i,onClose:o,anchor:h,sx:{"& .MuiDrawer-paper":{width:j,maxWidth:"100vw",height:u?"90vh":"100vh",maxHeight:"100vh",boxShadow:m.shadows[16],borderRadius:u?"16px 16px 0 0":0}},ModalProps:{keepMounted:!0},children:r.jsx(he,{...x,onClose:o,compact:u,maxHeight:"100%"})})},tr=({selectedAthletes:i=[],buttonText:a="Select Athletes",buttonVariant:l="outlined",buttonColor:o="primary",showBadge:x=!0,maxWidth:m=400,maxHeight:u=500,onSelectionChange:j,...h})=>{const S=n.useTheme(),c=n.useMediaQuery(S.breakpoints.down("sm")),[d,f]=A.useState(null),g=A.useRef(null),v=!!d,D=G=>{f(G.currentTarget)},F=()=>{f(null)},W=G=>{j(G)},E=r.jsx(n.Button,{ref:g,variant:l,color:o,onClick:D,endIcon:r.jsx(P.ArrowDropDown,{}),startIcon:r.jsx(P.People,{}),sx:{textTransform:"none",minWidth:c?"100%":"auto"},children:i.length>0?`${i.length} ${i.length===1?"athlete":"athletes"} selected`:a});return r.jsxs(n.Box,{sx:{display:"inline-block",width:c?"100%":"auto"},children:[x&&i.length>0?r.jsx(n.Badge,{badgeContent:i.length,color:"primary",max:99,children:E}):E,r.jsx(n.Popover,{open:v,anchorEl:d,onClose:F,anchorOrigin:{vertical:"bottom",horizontal:c?"center":"left"},transformOrigin:{vertical:"top",horizontal:c?"center":"left"},sx:{"& .MuiPopover-paper":{mt:1,maxWidth:c?"95vw":m,maxHeight:c?"80vh":u,minWidth:c?"90vw":350,borderRadius:2,boxShadow:S.shadows[8]}},slotProps:{paper:{elevation:8}},children:r.jsx(n.Paper,{children:r.jsx(he,{...h,selectedAthletes:i,onSelectionChange:W,onClose:F,compact:c,maxHeight:c?"75vh":u})})})]})},or=({athlete:i,isSelected:a,onSelectionChange:l,compact:o=!1})=>{const x=n.useTheme(),m=n.useMediaQuery(x.breakpoints.down("sm")),u=o||m,j=h=>{l(i.id,h.target.checked)};return r.jsx(n.Card,{variant:"outlined",sx:{mb:1,backgroundColor:a?"action.selected":"transparent","&:hover":{backgroundColor:"action.hover"},transition:x.transitions.create("background-color",{duration:x.transitions.duration.short}),border:"1px solid",borderColor:"divider"},children:r.jsxs(n.CardContent,{sx:{display:"flex",alignItems:"center",gap:2,py:u?1.5:2,px:u?2:3,"&:last-child":{pb:u?1.5:2}},children:[r.jsx(n.Checkbox,{checked:a,onChange:j,size:u?"small":"medium",sx:{color:"primary.main","&.Mui-checked":{color:"primary.main"}}}),r.jsx(n.Avatar,{src:i.avatar,alt:i.name,sx:{width:u?32:40,height:u?32:40,border:"1px solid",borderColor:"divider"},children:i.name.split(" ").map(h=>h[0]).join("").toUpperCase()}),r.jsxs(n.Box,{sx:{flexGrow:1,minWidth:0},children:[r.jsx(n.Typography,{variant:u?"body2":"body1",fontWeight:"medium",sx:{color:"text.primary",mb:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i.name}),r.jsx(n.Typography,{variant:u?"caption":"body2",color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i.position})]}),r.jsx(n.Chip,{label:ce(i.status),color:le(i.status),size:u?"small":"medium",variant:"filled",sx:{minWidth:u?60:80,fontWeight:"medium",fontFamily:'"Open Sans", sans-serif'}})]})})},ke=({athletes:i,selectedAthletes:a,onSelectionChange:l,sortBy:o})=>{const[x,m]=A.useState(null),u=A.useMemo(()=>{const S={};return i.forEach(c=>{const d=c.ageGroup;S[d]||(S[d]=[]),S[d].push(c)}),Object.entries(S).map(([c,d])=>({id:c,name:c,athletes:d})).sort((c,d)=>{const f=g=>{const v=g.match(/U(\d+)/);return v?parseInt(v[1]):0};return f(d.name)-f(c.name)})},[i]),j=S=>{m(S)},h=()=>{m(null)};return x?r.jsxs(n.Box,{sx:{width:"100%"},children:[r.jsxs(n.Box,{sx:{display:"flex",alignItems:"center",px:2,py:1.5,borderBottom:"1px solid",borderColor:"divider",backgroundColor:"background.paper"},children:[r.jsx(n.IconButton,{onClick:h,size:"small",sx:{mr:1},children:r.jsx(P.ArrowBack,{fontSize:"small"})}),r.jsx(n.Typography,{variant:"h6",sx:{fontFamily:'"Open Sans", sans-serif',fontSize:"1rem",fontWeight:600,color:"text.primary",flexGrow:1},children:x.name})]}),r.jsx(n.Box,{sx:{overflow:"auto"},children:r.jsx(de,{athletes:x.athletes,selectedAthletes:a,onSelectionChange:l,sortBy:o})})]}):r.jsx(n.Paper,{elevation:0,sx:{width:"100%"},children:r.jsx(n.List,{sx:{py:0},children:u.map(S=>{const c=S.name==="U23";return r.jsx(n.ListItem,{disablePadding:!0,sx:{backgroundColor:c?"action.selected":"transparent"},children:r.jsxs(n.ListItemButton,{onClick:()=>j(S),sx:{px:2,py:1,"&:hover":{backgroundColor:c?"action.selected":"action.hover"}},children:[r.jsx(n.ListItemText,{primary:S.name,primaryTypographyProps:{fontFamily:'"Open Sans", sans-serif',fontSize:"1rem",fontWeight:400,color:"text.primary"}}),r.jsx(P.ChevronRight,{fontSize:"small",sx:{color:"text.secondary"}})]})},S.id)})})})},pe=({athletes:i,selectedAthletes:a=[],onSelectionChange:l,onClose:o,onBack:x,title:m="Athletes",showBackButton:u=!1,maxHeight:j=600,compact:h=!1,loading:S=!1,error:c})=>{const d=n.useTheme(),f=n.useMediaQuery(d.breakpoints.down("sm")),g=h||f,[v,D]=A.useState({searchTerm:"",selectedAgeGroups:[],selectedPositions:[],selectedSquad:"current",sortBy:"name",sortOrder:"asc"}),[F,W]=A.useState("position"),E=A.useMemo(()=>{const k=ie(i,v);return ae(k,v.sortBy,v.sortOrder)},[i,v]),G=k=>{D(R=>({...R,searchTerm:k.target.value}))},K=k=>{let R=k;switch(k){case"selected":R="all";break;case"current":R="current";break;case"labels":case"groups":case"status":case"position-groups":case"historical":R="all";break;default:R="all"}D(z=>({...z,selectedSquad:R}))},J=(k,R)=>{const z=R?[...a,k]:a.filter(X=>X!==k);l(z)},Q=k=>{W(k)};return S?r.jsx(n.Box,{sx:{p:3,textAlign:"center"},children:r.jsx(n.Typography,{children:"Loading athletes..."})}):c?r.jsx(n.Box,{sx:{p:3,textAlign:"center"},children:r.jsx(n.Typography,{color:"error",children:c})}):r.jsxs(n.Box,{sx:{display:"flex",flexDirection:"column",height:"100%",maxHeight:`${j}px`,bgcolor:"background.paper",borderRadius:1,overflow:"hidden"},children:[r.jsxs(n.Box,{sx:{py:1,px:g?2:3,borderBottom:"1px solid",borderColor:"divider",flexShrink:0},children:[r.jsxs(n.Box,{sx:{display:"flex",alignItems:"center",mb:0},children:[u&&x&&r.jsx(n.IconButton,{onClick:x,size:g?"small":"medium",sx:{mr:1},children:r.jsx(P.ArrowBack,{})}),r.jsx(n.Typography,{variant:g?"h6":"h5",fontWeight:"semibold",sx:{flexGrow:1},children:m}),o&&r.jsx(n.IconButton,{onClick:o,size:g?"small":"medium",children:r.jsx(P.Close,{})})]}),r.jsxs(n.Box,{sx:{display:"flex",gap:1,alignItems:"center",mb:0},children:[r.jsx(n.Box,{sx:{minWidth:140,flexShrink:0},children:r.jsx(se,{selectedSquad:v.selectedSquad==="current"?"current":"all",onSquadChange:K,selectedCount:a.length,compact:!0})}),r.jsx(n.TextField,{placeholder:"Search",value:v.searchTerm,onChange:G,size:"small",sx:{flexGrow:1,"& .MuiInputBase-root":{fontFamily:'"Open Sans", sans-serif'}},InputProps:{endAdornment:r.jsx(n.InputAdornment,{position:"end",children:r.jsx(P.Search,{fontSize:"small"})})}}),r.jsx(fe,{currentSort:F,onSortChange:Q})]}),r.jsx(n.Stack,{spacing:1,children:a.length>0&&r.jsx(n.Box,{children:r.jsx(n.Chip,{label:`${a.length} selected`,color:"primary",size:"small",onDelete:()=>l([])})})})]}),r.jsx(n.Box,{sx:{flexGrow:1,overflow:"auto"},children:r.jsx(ke,{athletes:E,selectedAthletes:a,onSelectionChange:J,sortBy:F})}),r.jsx(n.Box,{sx:{py:1,px:g?2:3,borderTop:"1px solid",borderColor:"divider",flexShrink:0},children:r.jsx(n.Box,{sx:{display:"flex",justifyContent:"flex-end"},children:r.jsx(n.Button,{variant:"contained",color:"primary",onClick:o,disabled:a.length===0,sx:{fontFamily:'"Open Sans", sans-serif',textTransform:"none"},children:"Done"})})})]})},sr=({open:i,onClose:a,anchor:l="right",athletes:o,selectedAthletes:x,onSelectionChange:m,title:u="Select Athletes",maxHeight:j,...h})=>{const S=n.useTheme(),c=n.useMediaQuery(S.breakpoints.down("sm"));return r.jsx(n.Drawer,{anchor:l,open:i,onClose:a,variant:"temporary",sx:{"& .MuiDrawer-paper":{width:c?"100vw":500,maxWidth:"100vw",height:"100vh",maxHeight:"100vh",boxShadow:S.shadows[16],borderRadius:c?"16px 16px 0 0":0}},ModalProps:{keepMounted:!0},children:r.jsx(pe,{athletes:o,selectedAthletes:x,onSelectionChange:m,onClose:a,title:u,compact:c,maxHeight:"100%",...h})})},ir=({open:i,onClose:a,anchorEl:l,athletes:o,selectedAthletes:x,onSelectionChange:m,title:u="Select Athletes",maxHeight:j=600,...h})=>{const S=n.useTheme(),c=n.useMediaQuery(S.breakpoints.down("sm"));return r.jsx(n.Popover,{open:i,anchorEl:l,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{sx:{width:c?"90vw":500,maxWidth:"95vw",maxHeight:c?"80vh":j,overflow:"hidden"}},children:r.jsx(pe,{athletes:o,selectedAthletes:x,onSelectionChange:m,onClose:a,title:u,compact:c,maxHeight:j,...h})})};T.AthleteCard=or,T.AthleteSelectorContent=he,T.AthleteSelectorTreeContent=pe,T.CompactAthleteCard=ue,T.DrawerAthleteSelector=nr,T.DrawerAthleteSelectorTree=sr,T.DropdownAthleteSelector=tr,T.DropdownAthleteSelectorTree=ir,T.ExpandableSquadSelector=se,T.GroupedAthleteList=de,T.SimpleTreeNavigationList=ke,T.SortMenu=fe,T.filterAthletes=ie,T.getStatusColor=le,T.getStatusLabel=ce,T.groupAthletesByAgeGroup=Ze,T.groupAthletesByPosition=er,T.sortAthletes=ae,Object.defineProperty(T,Symbol.toStringTag,{value:"Module"})});
